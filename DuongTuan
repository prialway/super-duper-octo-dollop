-- Khởi tạo GUI
local screenGui = Instance.new("ScreenGui")
local mainFrame = Instance.new("Frame")
local titleLabel = Instance.new("TextLabel")
local summonButton = Instance.new("TextButton")
local fuseButton = Instance.new("TextButton")
local closeButton = Instance.new("TextButton")
local macroButton = Instance.new("TextButton")
local macroFrame = Instance.new("Frame")
local recordButton = Instance.new("TextButton")
local playButton = Instance.new("TextButton")
local hideUIButton = Instance.new("TextButton")

-- Cài đặt ScreenGui
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.Name = "MyGui" -- Đặt tên để dễ kiểm tra

-- Cài đặt Main Frame
mainFrame.Parent = screenGui
mainFrame.Size = UDim2.new(0, 400, 0, 300)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
mainFrame.BorderSizePixel = 0

-- Cài đặt Title Label
titleLabel.Parent = mainFrame
titleLabel.Text = "Game Menu"
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 24

-- Cài đặt Nút Summon
summonButton.Parent = mainFrame
summonButton.Text = "Summon"
summonButton.Size = UDim2.new(0, 150, 0, 50)
summonButton.Position = UDim2.new(0.1, 0, 0.3, 0)
summonButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
summonButton.TextColor3 = Color3.fromRGB(255, 255, 255)
summonButton.Font = Enum.Font.GothamBold
summonButton.TextSize = 20

-- Cài đặt Nút Fuse
fuseButton.Parent = mainFrame
fuseButton.Text = "Fuse"
fuseButton.Size = UDim2.new(0, 150, 0, 50)
fuseButton.Position = UDim2.new(0.1, 0, 0.5, 0)
fuseButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
fuseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
fuseButton.Font = Enum.Font.GothamBold
fuseButton.TextSize = 20

-- Cài đặt Nút Đóng
closeButton.Parent = mainFrame
closeButton.Text = "X"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 18

-- Cài đặt Nút Macro
macroButton.Parent = mainFrame
macroButton.Text = "Macro"
macroButton.Size = UDim2.new(0, 150, 0, 50)
macroButton.Position = UDim2.new(0.7, -75, 0.3, 0) -- Điều chỉnh vị trí để không bị lệch
macroButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
macroButton.TextColor3 = Color3.fromRGB(255, 255, 255)
macroButton.Font = Enum.Font.GothamBold
macroButton.TextSize = 20

-- Cài đặt Macro Frame
macroFrame.Parent = screenGui
macroFrame.Size = UDim2.new(0, 400, 0, 300)
macroFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
macroFrame.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
macroFrame.BorderSizePixel = 0
macroFrame.Visible = false

-- Cài đặt Nút Record
recordButton.Parent = macroFrame
recordButton.Text = "Record"
recordButton.Size = UDim2.new(0, 150, 0, 50)
recordButton.Position = UDim2.new(0.1, 0, 0.3, 0)
recordButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
recordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
recordButton.Font = Enum.Font.GothamBold
recordButton.TextSize = 20

-- Cài đặt Nút Play
playButton.Parent = macroFrame
playButton.Text = "Play"
playButton.Size = UDim2.new(0, 150, 0, 50)
playButton.Position = UDim2.new(0.1, 0, 0.5, 0)
playButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
playButton.TextColor3 = Color3.fromRGB(255, 255, 255)
playButton.Font = Enum.Font.GothamBold
playButton.TextSize = 20

-- Cài đặt Nút HIDE UI
hideUIButton.Parent = screenGui
hideUIButton.Text = "HIDE UI"
hideUIButton.Size = UDim2.new(0, 150, 0, 50)
hideUIButton.Position = UDim2.new(0.5, -75, 0, 10) -- Điều chỉnh vị trí để nằm trên cùng
hideUIButton.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
hideUIButton.TextColor3 = Color3.fromRGB(255, 255, 255)
hideUIButton.Font = Enum.Font.GothamBold
hideUIButton.TextSize = 20

-- Cài đặt Góc Bo Tròn
local function addUICorner(instance)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = instance
end

addUICorner(mainFrame)
addUICorner(summonButton)
addUICorner(fuseButton)
addUICorner(closeButton)
addUICorner(macroButton)
addUICorner(recordButton)
addUICorner(playButton)
addUICorner(hideUIButton)

-- Biến ghi lại hành động
local recording = false
local macro = {}

-- Chức năng của các nút
macroButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    macroFrame.Visible = true
end)

closeButton.MouseButton1Click:Connect(function()
    screenGui.Enabled = false
end)

recordButton.MouseButton1Click:Connect(function()
    recording = not recording
    recordButton.Text = recording and "Stop Recording" or "Record"
    if not recording then
        print("Macro recorded:", macro)
    end
end)

playButton.MouseButton1Click:Connect(function()
    for _, action in pairs(macro) do
        -- Thực hiện các hành động được ghi lại
        print("Playing action:", action) -- Thay thế bằng logic thực tế
    end
end)

summonButton.MouseButton1Click:Connect(function()
    local gems = game.Players.LocalPlayer.leaderstats.Gems -- Số Gems của người chơi
    if gems.Value >= 50 then
        game.ReplicatedStorage.RemoteEvents.Summon:FireServer("HeroBanner", "LegendaryHero")
        print("Summon thành công")
    else
        print("Không đủ Gems!")
    end
end)

fuseButton.MouseButton1Click:Connect(function()
    game.ReplicatedStorage.RemoteEvents.Fuse:FireServer("Slot1", "Rare")
    print("Fuse thành công!")
end)

-- Chức năng của nút HIDE UI
local uiVisible = true
hideUIButton.MouseButton1Click:Connect(function()
    uiVisible = not uiVisible
    screenGui.Enabled = uiVisible
    hideUIButton.Text = uiVisible and "HIDE UI" or "SHOW UI"
end)
